"use strict";(self["webpackChunkshop_mall"]=self["webpackChunkshop_mall"]||[]).push([[388],{1873:function(t,e,s){s.r(e),s.d(e,{default:function(){return F}});var c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart"},[s("nav-bar",{staticClass:"nav-bar"},[s("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物车("+t._s(t.length)+")")])]),s("cart-list"),s("cart-btn-bar")],1)},i=[],a=s(1901),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-list"},[s("scroll",{ref:"scroll",staticClass:"content"},t._l(t.cartList,(function(e,c){return s("cart-list-item",{key:c,attrs:{itemInfo:e}},[t._v(" "+t._s(e))])})),1)],1)},n=[],r=s(2609),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-item"},[s("div",{staticClass:"item-selector"},[s("check-button",{attrs:{"is-checked":t.itemInfo.checked},nativeOn:{click:function(e){return t.checkClick.apply(null,arguments)}}})],1),s("div",{staticClass:"item-img"},[s("img",{attrs:{src:t.itemInfo.image,alt:"商品图片"}})]),s("div",{staticClass:"item-info"},[s("div",{staticClass:"item-title"},[t._v(t._s(t.itemInfo.title))]),s("div",{staticClass:"item-desc"},[t._v(t._s(t.itemInfo.desc))]),s("div",{staticClass:"info-bottom"},[s("div",{staticClass:"item-price left"},[t._v(t._s(t.itemInfo.price))]),s("div",{staticClass:"item-count right"},[t._v(t._s(t.itemInfo.count))])])])])},h=[],u=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"check-button",class:{check:t.isChecked}},[c("img",{attrs:{src:s(6154),alt:""}})])},d=[],m={name:"CheckButton",props:{isChecked:{type:Boolean,default:!1}}},f=m,k=s(1001),v=(0,k.Z)(f,u,d,!1,null,"1591e562",null),C=v.exports,p={name:"cartListItem",components:{CheckButton:C},props:{itemInfo:{type:Object,default(){return{}}}},methods:{checkClick(){this.itemInfo.checked=!this.itemInfo.checked}}},_=p,b=(0,k.Z)(_,o,h,!1,null,"4bb8e43d",null),L=b.exports,g=s(629),$={name:"CartList",components:{Scroll:r.Z,CartListItem:L},computed:{...(0,g.Se)(["cartList"])},activated(){this.$refs.scroll.refresh()}},I=$,B=(0,k.Z)(I,l,n,!1,null,"7796ed32",null),x=B.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-bar"},[s("div",{staticClass:"check-content"},[s("check-button",{staticClass:"check-btn",attrs:{isChecked:t.isSelectAll},nativeOn:{click:function(e){return t.checkClick.apply(null,arguments)}}}),s("span",[t._v("全选")])],1),s("div",{staticClass:"price"},[t._v(" 合计："+t._s(t.totalPrice)+" ")]),s("div",{staticClass:"calculate",on:{click:t.calcClick}},[t._v(" 去结算("+t._s(t.checkLength)+") ")])])},Z=[],S={name:"CartBtnBar",components:{CheckButton:C},computed:{totalPrice(){return"￥"+this.$store.state.cartList.filter((t=>t.checked)).reduce(((t,e)=>t+e.realPrice*e.count),0).toFixed(2)},checkLength(){return this.$store.state.cartList.filter((t=>t.checked)).length},isSelectAll(){if(0===this.$store.state.cartList.length)return!1;for(let t of this.$store.state.cartList)if(!t.checked)return!1;return!0}},methods:{checkClick(){this.isSelectAll?this.$store.state.cartList.forEach((t=>t.checked=!1)):this.$store.state.cartList.forEach((t=>t.checked=!0))},calcClick(){0===this.checkLength&&this.$toast.show("请选择购买的商品",2e3)}}},y=S,w=(0,k.Z)(y,E,Z,!1,null,"5a7b61b8",null),A=w.exports,O={name:"Cart",components:{NavBar:a.Z,CartList:x,CartBtnBar:A},computed:{...(0,g.Se)({length:"cartLength"})}},P=O,j=(0,k.Z)(P,c,i,!1,null,"361dedbb",null),F=j.exports},6154:function(t,e,s){t.exports=s.p+"img/tick.82dd6e3a.svg"}}]);
//# sourceMappingURL=388.759eb83e.js.map