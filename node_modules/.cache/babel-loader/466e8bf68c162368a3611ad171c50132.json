{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport { reject, resolve } from 'core-js/fn/promise';\nimport { ADD_COUNTER, ADD_TO_CART } from './mutation-types';\nexport default {\n  addCart: function addCart(context, payload) {\n    return new Promise(function (resolve, reject) {\n      // 查找之前数组中是否有该商品\n      var oldProduct = context.state.cartList.find(function (item) {\n        return item.iid === payload.iid;\n      }); // 2.判断oldProduct\n\n      if (oldProduct) {\n        // 数量+1\n        // oldProduct.count += 1\n        context.commit(ADD_COUNTER, oldProduct);\n        resolve('当前的商品数量加一');\n      } else {\n        // 添加新的商品\n        payload.count = 1; // state.cartList.push(payload)\n\n        context.commit(ADD_TO_CART, payload);\n        resolve('添加了新的商品');\n      }\n    });\n  }\n};","map":{"version":3,"names":["reject","resolve","ADD_COUNTER","ADD_TO_CART","addCart","context","payload","Promise","oldProduct","state","cartList","find","item","iid","commit","count"],"sources":["D:/Vue/shop-mall/src/store/actions.js"],"sourcesContent":["import { reject, resolve } from 'core-js/fn/promise'\r\nimport {\r\n    ADD_COUNTER,\r\n    ADD_TO_CART\r\n} from './mutation-types'\r\n\r\n\r\nexport default {\r\n    addCart(context, payload) {\r\n        return new Promise((resolve, reject) => {\r\n            // 查找之前数组中是否有该商品\r\n            let oldProduct = context.state.cartList.find(item => item.iid === payload.iid)\r\n                // 2.判断oldProduct\r\n            if (oldProduct) { // 数量+1\r\n                // oldProduct.count += 1\r\n                context.commit(ADD_COUNTER, oldProduct)\r\n                resolve('当前的商品数量加一')\r\n            } else { // 添加新的商品\r\n                payload.count = 1\r\n                    // state.cartList.push(payload)\r\n                context.commit(ADD_TO_CART, payload)\r\n                resolve('添加了新的商品')\r\n            }\r\n        })\r\n    }\r\n}"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,OAAjB,QAAgC,oBAAhC;AACA,SACIC,WADJ,EAEIC,WAFJ,QAGO,kBAHP;AAMA,eAAe;EACXC,OADW,mBACHC,OADG,EACMC,OADN,EACe;IACtB,OAAO,IAAIC,OAAJ,CAAY,UAACN,OAAD,EAAUD,MAAV,EAAqB;MACpC;MACA,IAAIQ,UAAU,GAAGH,OAAO,CAACI,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,GAAL,KAAaP,OAAO,CAACO,GAAzB;MAAA,CAAhC,CAAjB,CAFoC,CAGhC;;MACJ,IAAIL,UAAJ,EAAgB;QAAE;QACd;QACAH,OAAO,CAACS,MAAR,CAAeZ,WAAf,EAA4BM,UAA5B;QACAP,OAAO,CAAC,WAAD,CAAP;MACH,CAJD,MAIO;QAAE;QACLK,OAAO,CAACS,KAAR,GAAgB,CAAhB,CADG,CAEC;;QACJV,OAAO,CAACS,MAAR,CAAeX,WAAf,EAA4BG,OAA5B;QACAL,OAAO,CAAC,SAAD,CAAP;MACH;IACJ,CAdM,CAAP;EAeH;AAjBU,CAAf"},"metadata":{},"sourceType":"module"}