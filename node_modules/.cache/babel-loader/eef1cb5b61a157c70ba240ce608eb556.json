{"ast":null,"code":"import \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex'; // 1.安装插件\n\nVue.use(Vuex); // 2.创建Store对象\n\nvar store = new Vuex.Store({\n  state: {\n    cartList: []\n  },\n  mutations: {\n    // mutations唯一的目的就是修改state中状态\n    // mutations中的每一个方法尽可能完成的事件比较单一一点\n    addCounter: function addCounter(state, payload) {\n      payload.count++;\n    },\n    addToCart: function addToCart(state, payload) {\n      state.cartList.push(payload);\n    }\n  },\n  actions: {\n    addCart: function addCart(context, payload) {\n      // 查找之前数组中是否有该商品\n      var oldProduct = context.state.cartList.find(function (item) {\n        return item.iid === payload.iid;\n      }); // 2.判断oldProduct\n\n      if (oldProduct) {\n        // oldProduct.count += 1\n        context.commit('addCounter', oldProduct);\n      } else {\n        payload.count = 1; // state.cartList.push(payload)\n\n        context.commit('addToCart', payload);\n      }\n    }\n  }\n}); // 3.挂载Vue实例上\n\nexport default store;","map":{"version":3,"names":["Vue","Vuex","use","store","Store","state","cartList","mutations","addCounter","payload","count","addToCart","push","actions","addCart","context","oldProduct","find","item","iid","commit"],"sources":["D:/Vue/shop-mall/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\n// 1.安装插件\r\nVue.use(Vuex)\r\n\r\n// 2.创建Store对象\r\nconst store = new Vuex.Store({\r\n    state: {\r\n        cartList: []\r\n    },\r\n    mutations: {\r\n        // mutations唯一的目的就是修改state中状态\r\n        // mutations中的每一个方法尽可能完成的事件比较单一一点\r\n        addCounter(state, payload) {\r\n            payload.count++\r\n        },\r\n        addToCart(state, payload) {\r\n            state.cartList.push(payload)\r\n        }\r\n    },\r\n    actions: {\r\n        addCart(context, payload) {\r\n            // 查找之前数组中是否有该商品\r\n            let oldProduct = context.state.cartList.find(item => item.iid === payload.iid)\r\n                // 2.判断oldProduct\r\n            if (oldProduct) {\r\n                // oldProduct.count += 1\r\n                context.commit('addCounter', oldProduct)\r\n            } else {\r\n                payload.count = 1\r\n                    // state.cartList.push(payload)\r\n                context.commit('addToCart', payload)\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n// 3.挂载Vue实例上\r\nexport default store"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CAEA;;AACAD,GAAG,CAACE,GAAJ,CAAQD,IAAR,E,CAEA;;AACA,IAAME,KAAK,GAAG,IAAIF,IAAI,CAACG,KAAT,CAAe;EACzBC,KAAK,EAAE;IACHC,QAAQ,EAAE;EADP,CADkB;EAIzBC,SAAS,EAAE;IACP;IACA;IACAC,UAHO,sBAGIH,KAHJ,EAGWI,OAHX,EAGoB;MACvBA,OAAO,CAACC,KAAR;IACH,CALM;IAMPC,SANO,qBAMGN,KANH,EAMUI,OANV,EAMmB;MACtBJ,KAAK,CAACC,QAAN,CAAeM,IAAf,CAAoBH,OAApB;IACH;EARM,CAJc;EAczBI,OAAO,EAAE;IACLC,OADK,mBACGC,OADH,EACYN,OADZ,EACqB;MACtB;MACA,IAAIO,UAAU,GAAGD,OAAO,CAACV,KAAR,CAAcC,QAAd,CAAuBW,IAAvB,CAA4B,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,GAAL,KAAaV,OAAO,CAACU,GAAzB;MAAA,CAAhC,CAAjB,CAFsB,CAGlB;;MACJ,IAAIH,UAAJ,EAAgB;QACZ;QACAD,OAAO,CAACK,MAAR,CAAe,YAAf,EAA6BJ,UAA7B;MACH,CAHD,MAGO;QACHP,OAAO,CAACC,KAAR,GAAgB,CAAhB,CADG,CAEC;;QACJK,OAAO,CAACK,MAAR,CAAe,WAAf,EAA4BX,OAA5B;MACH;IACJ;EAbI;AAdgB,CAAf,CAAd,C,CA+BA;;AACA,eAAeN,KAAf"},"metadata":{},"sourceType":"module"}