{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DetailNavBar from './childComps/DetailNavBar.vue';\nimport DetailSwiper from './childComps/DetailSwiper.vue';\nimport DetailBaseInfo from './childComps/DetailBaseInfo.vue';\nimport DetailShopInfo from './childComps/DetailShopInfo.vue';\nimport DetailGoodsInfo from './childComps/DetailGoodsInfo.vue';\nimport DetailParamInfo from './childComps/DetailParamInfo.vue';\nimport Scroll from '../../components/common/scroll/Scroll.vue';\nimport { getDetail, Goods, Shop, GoodsParam } from '../../network/detail.js';\nexport default {\n  name: \"Detail\",\n  components: {\n    DetailNavBar: DetailNavBar,\n    DetailSwiper: DetailSwiper,\n    DetailBaseInfo: DetailBaseInfo,\n    DetailShopInfo: DetailShopInfo,\n    DetailGoodsInfo: DetailGoodsInfo,\n    DetailParamInfo: DetailParamInfo,\n    Scroll: Scroll\n  },\n  data: function data() {\n    return {\n      iid: null,\n      topImages: [],\n      goods: {},\n      shop: {},\n      detailInfo: {},\n      paramInfo: {}\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // 1.保存传入的iid\n    this.iid = this.$route.params.iid; // console.log(this.iid);\n    // 2.根据iid请求数据\n\n    getDetail(this.iid).then(function (res) {\n      // 1.获取顶部的图片轮播数据\n      var data = res.result;\n      _this.topImages = res.result.itemInfo.topImages; // console.log(this.topImages);\n      // 2.获取商品信息\n\n      _this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services); // 3.创建店铺信息的对象\n\n      _this.shop = new Shop(data.shopInfo); // 4.保存商品的详情数据\n\n      _this.detailInfo = data.detailInfo; // 5.获取参数信息\n\n      _this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule);\n    });\n  },\n  methods: {\n    imageLoad: function imageLoad() {\n      this.$refs.scroll.refresh();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;EACAA,cADA;EAEAC;IACAC,0BADA;IAEAC,0BAFA;IAGAC,8BAHA;IAIAC,8BAJA;IAKAC,gCALA;IAMAC,gCANA;IAOAC;EAPA,CAFA;EAWAC,IAXA,kBAWA;IACA;MACAC,SADA;MAEAC,aAFA;MAGAC,SAHA;MAIAC,QAJA;MAKAC,cALA;MAMAC;IANA;EAQA,CApBA;EAqBAC,OArBA,qBAqBA;IAAA;;IACA;IACA,kCAFA,CAGA;IAEA;;IACAC;MACA;MACA;MACA,gDAHA,CAIA;MAEA;;MACA,6EAPA,CASA;;MACA,qCAVA,CAYA;;MACA,mCAbA,CAeA;;MACA;IACA,CAjBA;EAkBA,CA7CA;EA8CAC;IACAC,SADA,uBACA;MACA;IACA;EAHA;AA9CA","names":["name","components","DetailNavBar","DetailSwiper","DetailBaseInfo","DetailShopInfo","DetailGoodsInfo","DetailParamInfo","Scroll","data","iid","topImages","goods","shop","detailInfo","paramInfo","created","getDetail","methods","imageLoad"],"sourceRoot":"src/views/detail","sources":["Detail.vue"],"sourcesContent":["<template>\r\n    <div id=\"detail\">\r\n        <detail-nav-bar class=\"detail-nav\"></detail-nav-bar>\r\n        <scroll class=\"content\" ref=\"scroll\">\r\n            <detail-swiper :top-images=\"topImages\"></detail-swiper>\r\n            <detail-base-info :goods=\"goods\"></detail-base-info>\r\n            <detail-shop-info :shop=\"shop\"></detail-shop-info>\r\n            <detail-goods-info :detail-info=\"detailInfo\" @imageLoad=\"imageLoad\"></detail-goods-info>\r\n            <detail-param-info :paramInfo=\"paramInfo\"></detail-param-info>\r\n        </scroll>\r\n\r\n\r\n        <!-- <div v-for=\"item in 10\" :key=\"item\">{{item}}</div> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailNavBar from './childComps/DetailNavBar.vue'\r\nimport DetailSwiper from './childComps/DetailSwiper.vue'\r\nimport DetailBaseInfo from './childComps/DetailBaseInfo.vue'\r\nimport DetailShopInfo from './childComps/DetailShopInfo.vue'\r\nimport DetailGoodsInfo from './childComps/DetailGoodsInfo.vue'\r\nimport DetailParamInfo from './childComps/DetailParamInfo.vue'\r\n\r\nimport Scroll from '../../components/common/scroll/Scroll.vue'\r\n\r\nimport {getDetail, Goods, Shop, GoodsParam} from '../../network/detail.js'\r\n\r\nexport default {\r\n    name: \"Detail\",\r\n    components: {\r\n        DetailNavBar,\r\n        DetailSwiper,\r\n        DetailBaseInfo,\r\n        DetailShopInfo,\r\n        DetailGoodsInfo,\r\n        DetailParamInfo,\r\n        Scroll\r\n    },\r\n    data() {\r\n        return {\r\n            iid: null,\r\n            topImages: [],\r\n            goods: {},\r\n            shop: {},\r\n            detailInfo: {},\r\n            paramInfo: {}\r\n        }\r\n    },\r\n    created() {\r\n        // 1.保存传入的iid\r\n        this.iid = this.$route.params.iid\r\n        // console.log(this.iid);\r\n\r\n        // 2.根据iid请求数据\r\n        getDetail(this.iid).then(res => {\r\n            // 1.获取顶部的图片轮播数据\r\n            const data = res.result;\r\n            this.topImages = res.result.itemInfo.topImages\r\n            // console.log(this.topImages);\r\n\r\n            // 2.获取商品信息\r\n            this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\r\n\r\n            // 3.创建店铺信息的对象\r\n            this.shop = new Shop(data.shopInfo)\r\n\r\n            // 4.保存商品的详情数据\r\n            this.detailInfo = data.detailInfo;\r\n\r\n            // 5.获取参数信息\r\n            this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\r\n        })\r\n    },\r\n    methods: {\r\n        imageLoad() {\r\n            this.$refs.scroll.refresh()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    #detail {\r\n        position: relative;\r\n        z-index: 9;\r\n        height: 100vh;\r\n        background-color: #fff;\r\n    }\r\n    .detail-nav {\r\n        position: relative;\r\n        z-index: 9;\r\n        background-color: #fff;\r\n    }\r\n    .content {\r\n        height: calc(100% - 44px);\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}