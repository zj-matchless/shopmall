{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CheckButton from '../../../components/content/checkButton/CheckButton.vue';\nexport default {\n  name: \"CartBtnBar\",\n  components: {\n    CheckButton\n  },\n  computed: {\n    totalPrice() {\n      return '￥' + this.$store.state.cartList.filter(item => {\n        return item.checked;\n      }).reduce((preValue, item) => {\n        return preValue + item.realPrice * item.count;\n      }, 0).toFixed(2);\n    },\n\n    checkLength() {\n      return this.$store.state.cartList.filter(item => item.checked).length;\n    },\n\n    isSelectAll() {\n      if (this.$store.state.cartList.length === 0) return false; // 1.使用filter\n      // return !(this.$store.state.cartList.filter(item => !item.checked).length)\n      // 2.使用find\n      // return !this.$store.state.cartList.find(item => !item.checked)\n      // 3.普通遍历\n\n      for (let item of this.$store.state.cartList) {\n        if (!item.checked) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n  },\n  methods: {\n    checkClick() {\n      if (this.isSelectAll) {\n        // 全部选中\n        this.$store.state.cartList.forEach(item => item.checked = false);\n      } else {\n        // 部分或全部不选中\n        this.$store.state.cartList.forEach(item => item.checked = true);\n      }\n    },\n\n    calcClick() {\n      if (this.checkLength === 0) {\n        this.$toast.show('请选择购买的商品', 2000);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA;AAEA;EACAA,kBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC;MACA;QACA;MACA,CAFA,EAEAC,MAFA,CAEA;QACA;MACA,CAJA,EAIA,CAJA,EAIAC,OAJA,CAIA,CAJA;IAKA,CAPA;;IAQAC;MACA;IACA,CAVA;;IAWAC;MACA,0DADA,CAEA;MACA;MAEA;MACA;MAEA;;MACA;QACA;UACA;QACA;MACA;;MACA;IACA;;EA1BA,CALA;EAiCAC;IACAC;MACA;QAAA;QACA;MACA,CAFA,MAEA;QAAA;QACA;MACA;IACA,CAPA;;IAQAC;MACA;QACA;MACA;IACA;;EAZA;AAjCA","names":["name","components","CheckButton","computed","totalPrice","reduce","toFixed","checkLength","isSelectAll","methods","checkClick","calcClick"],"sourceRoot":"src/views/cart/childComps","sources":["CartBtnBar.vue"],"sourcesContent":["<template>\r\n    <div class=\"btn-bar\">\r\n        <div class=\"check-content\">\r\n            <check-button \r\n            :isChecked=\"isSelectAll\" \r\n            class=\"check-btn\"\r\n            @click.native=\"checkClick\"\r\n            ></check-button>\r\n            <span>全选</span>\r\n        </div>\r\n\r\n        <div class=\"price\">\r\n            合计：{{totalPrice}}\r\n        </div>\r\n        <div class=\"calculate\" @click=\"calcClick\">\r\n            去结算({{checkLength}})\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CheckButton from '../../../components/content/checkButton/CheckButton.vue'\r\n\r\nexport default {\r\n    name: \"CartBtnBar\",\r\n    components: {\r\n        CheckButton\r\n    },\r\n    computed: {\r\n        totalPrice() {\r\n            return '￥' + this.$store.state.cartList.filter(item => {\r\n                return item.checked\r\n            }).reduce((preValue, item) => {\r\n                return preValue + item.realPrice * item.count\r\n            }, 0).toFixed(2)\r\n        },\r\n        checkLength() {\r\n            return this.$store.state.cartList.filter(item => item.checked).length\r\n        },\r\n        isSelectAll() {\r\n            if(this.$store.state.cartList.length === 0) return false\r\n            // 1.使用filter\r\n            // return !(this.$store.state.cartList.filter(item => !item.checked).length)\r\n\r\n            // 2.使用find\r\n            // return !this.$store.state.cartList.find(item => !item.checked)\r\n\r\n            // 3.普通遍历\r\n            for(let item of this.$store.state.cartList) {\r\n                if(!item.checked) {\r\n                    return false\r\n                }\r\n            }\r\n            return true\r\n        }\r\n    },\r\n    methods: {\r\n        checkClick() {\r\n            if(this.isSelectAll) {// 全部选中\r\n                this.$store.state.cartList.forEach(item => item.checked = false);\r\n            }else {// 部分或全部不选中\r\n                this.$store.state.cartList.forEach(item => item.checked = true)\r\n            }\r\n        },\r\n        calcClick() {\r\n            if (this.checkLength === 0) {\r\n                this.$toast.show('请选择购买的商品', 2000)\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .btn-bar {\r\n        position: relative;\r\n        display: flex;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        background-color: #eee;\r\n    }\r\n    .check-content {\r\n        display: flex;\r\n        width: 70px;\r\n        align-items: center;\r\n\r\n    }\r\n    .check-btn {\r\n        width: 20px;\r\n        height: 20px;\r\n        margin-right: 5px;\r\n        line-height: 22px;\r\n    }\r\n    .price {\r\n        width: 150px;\r\n        margin-left: 20px;\r\n    }\r\n    .calculate {\r\n        color: #fff;\r\n        width: 120px;\r\n        text-align: center;\r\n        /* margin-left: 45px; */\r\n        background-color: #ff8198;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}